<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta name="description" content="UBIS : Web Application" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work
        properly without JavaScript enabled. Please enable it to
        continue.</strong
      >
    </noscript>
    <!-- <button onclick="main()">Enable notification</button> -->
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>

<script>
  const checkPermission = () => {
    console.log("ASD");
    if (!("serviceWorker" in navigator)) {
      throw new Error("No support for service worker!");
    }

    if (!("Notification" in window)) {
      throw new Error("No support for notification API");
    }

    if (!("PushManager" in window)) {
      throw new Error("No support for Push API");
    }
  };

  const registerSW = async () => {
    // console.log(navigator.serviceWorker)
    // const registration = await navigator.serviceWorker.register('serviceworker.js');

    try {
      var registration = await navigator.serviceWorker.register(
        "/UAT/serviceworker.js",
        // { scope: "./" }
      );
      var serviceWorker;
      if (registration.installing) {
        serviceWorker = registration.installing;
        console.log("installing : " + serviceWorker.state);
      } else if (registration.waiting) {
        serviceWorker = registration.waiting;
        console.log("waiting : " + serviceWorker.state);
      } else if (registration.active) {
        serviceWorker = registration.active;
        console.log("active : " + serviceWorker.state);
      }
    } catch (err) {
      console.error(err);
    }

    return registration;
  };

  // const requestNotificationPermission = async () => {
  //     const permission = await Notification.requestPermission();
  //     console.log(permission)
  //     if (permission !== 'granted') {
  //         throw new Error("Notification permission not granted")
  //     }
  // }

  const main = async () => {
    checkPermission();
    // await requestNotificationPermission()
    await registerSW();

    // const broadcast = new BroadcastChannel('count-channel');
    // Listen to the response
    // broadcast.onmessage = (event) => {
    //   console.log(event.data.payload);
    // };

    // Send first request
    // broadcast.postMessage({
    //   type: 'INCREASE_COUNT',
    // });
  };

  main();
</script>
<!-- <script
  id="Cookiebot"
  src="https://consent.cookiebot.com/uc.js"
  data-cbid="7b0c51db-06ba-451b-9752-b61bcfff3f34"
  type="text/javascript"
  async
></script> -->

<!-- <script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-XM3L1EHDYE"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-XM3L1EHDYE");
</script> -->
<!-- <style>
  #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll {
    background-color: #f07f26 !important;
    border-color: #ce6413 !important;
  }
  .CybotCookiebotDialogBodyButton {
    border-color: #ce6413 !important;
  }
  #CybotCookiebotDialog
    .CookieCard
    .CybotCookiebotDialogDetailBodyContentCookieContainerButton:hover,
  #CybotCookiebotDialog
    .CookieCard
    .CybotCookiebotDialogDetailBodyContentIABv2Tab:hover,
  #CybotCookiebotDialog.CybotEdge #CybotCookiebotDialogBodyEdgeMoreDetails a,
  #CybotCookiebotDialogBodyLevelButtonsSelectPane
    label:not([for="CybotCookiebotDialogBodyLevelButtonNecessary"])
    .CybotCookiebotDialogBodyLevelButtonDescription:hover,
  #CybotCookiebotDialogDetailBodyContentCookieContainerTypes
    .CybotCookiebotDialogDetailBodyContentCookieProvider:not(.CybotCookiebotDialogDetailBodyContentCookieInfoCount):hover,
  .CybotCookiebotDialogBodyEdgeMoreDetailsLink {
    color: #ce6413 !important;
  }
  #CybotCookiebotDialogNav .CybotCookiebotDialogNavItemLink:hover {
    color: #f07f26 !important;
  }
  #CybotCookiebotDialogNav
    .CybotCookiebotDialogNavItemLink.CybotCookiebotDialogActive {
    border-bottom: 1px solid #f07f26 !important;
    color: #f07f26 !important;
  }
  #CybotCookiebotDialogDetailBulkConsentLink:hover {
    color: #f07f26;
  }
  #CybotCookiebotDialogDetailBodyContentIABv2Tabs
    .CybotCookiebotDialogBodyLevelButtonIABHeaderButton,
  #CybotCookiebotDialogDetailBodyContentIABv2Tabs
    .CybotCookiebotDialogBodyLevelButtonIABHeaderToggleDeselectVendorsLink,
  #CybotCookiebotDialogDetailBodyContentIABv2Tabs
    .CybotCookiebotDialogBodyLevelButtonIABHeaderToggleSelectVendorsLink,
  #CybotCookiebotDialogFooter .CybotCookiebotDialogBodyButton {
    border: 2px solid #ce6413 !important;
  }
  #CybotCookiebotDialogFooter #CybotCookiebotDialogBodyLevelButtonCustomize,
  #CybotCookiebotDialogFooter
    #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowallSelection {
    background-color: transparent;
    border-color: #ce6413 !important;
  }
  #CybotCookiebotDialog
    #CybotCookiebotDialogDetailBodyContentIABv2Tabs
    input[type="checkbox"]:checked,
  #CybotCookiebotDialogDetailBodyContentIABv2Tabs
    .CybotCookiebotDialogBodyLevelButtonIABHeaderButton.select,
  #CybotCookiebotDialogDetailBodyContentIABv2Tabs
    .CybotCookiebotDialogBodyLevelButtonIABHeaderToggleSelectVendorsLink,
  #CybotCookiebotDialogFooter #CybotCookiebotDialogBodyButtonAccept,
  #CybotCookiebotDialogFooter #CybotCookiebotDialogBodyLevelButtonAccept,
  #CybotCookiebotDialogFooter
    #CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll {
    background-color: #ce6413 !important;
    border-color: #ce6413 !important;
  }
  #CybotCookiebotDialogTabContent
    input:checked
    + .CybotCookiebotDialogBodyLevelButtonSlider {
    background-color: #ce6413 !important;
  }
  #CybotCookiebotDialog #CybotCookiebotDialogBodyContentText a,
  #CybotCookiebotDialog
    #CybotCookiebotDialogBodyLevelButtonIABHeaderViewPartnersLink,
  #CybotCookiebotDialog #CybotCookiebotDialogDetailBulkConsentList dt a,
  #CybotCookiebotDialog #CybotCookiebotDialogDetailFooter a,
  #CybotCookiebotDialog .CybotCookiebotDialogBodyLevelButtonIABDescription a,
  #CybotCookiebotDialog .CybotCookiebotDialogDetailBodyContentCookieLink,
  #CybotCookiebotDialogDetailBodyContentTextAbout a {
    color: #ce6413 !important;
    font-weight: 600;
    text-decoration: none;
  }
  @media screen and (min-width: 601px) {
    #CybotCookiebotDialogTabContent
      input:focus
      + .CybotCookiebotDialogBodyLevelButtonSlider {
      box-shadow: 0 0 1px #ce6413 !important;
    }
    #CybotCookiebotDialog
      .CybotCookiebotDialogBodyLevelButtonSliderWrapper
      input:focus-visible
      + span,
    #CybotCookiebotDialog :focus-visible {
      outline: #ce6413 solid 2px !important;
    }
  }
</style> -->

<style>
  /* @font-face {
    font-family: sukhumvit;
    src: url(/fonts/sukhumvit-set/SukhumvitSet-SemiBold.ttf);
  }
  * {
    font-family: sukhumvit;
  } */
</style>
